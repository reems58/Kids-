# إصلاح خطأ الجلسة: "غير مسجل دخول"

## المشكلة:
عند فتح نافذة "إدارة المهام"، تظهر رسالة:
```
خطأ: غير مسجل دخول. يرجى تسجيل الدخول أولاً
```

## السبب:
API المهام يتحقق من الجلسة (Session) في PHP، لكن الجلسة قد لا تعمل بشكل صحيح.

## الحل:

### الحل 1: التأكد من تسجيل الدخول
1. تأكد من تسجيل الدخول بشكل صحيح من الصفحة الرئيسية
2. لا تفتح `parent_dashboard.html` مباشرة من الملفات
3. افتحها عبر تسجيل الدخول من: `http://localhost/kids_learning/html/index.html`

### الحل 2: تحديث الجلسة
إذا كنت مسجل دخول بالفعل:
1. افتح: `http://localhost/kids_learning/html/index.html`
2. سجل دخول مرة أخرى
3. سيتم حفظ الجلسة بشكل صحيح

### الحل 3: التحقق من php.ini
تأكد من أن الجلسات مفعلة في PHP:
1. افتح ملف: `C:\xampp\php\php.ini`
2. ابحث عن: `session.save_path`
3. تأكد من وجود مجلد للجلسات

---

## اختبار سريع:

### 1. اختبار الجلسة:
افتح في المتصفح:
```
http://localhost/kids_learning/api/get_current_user.php
```

**إذا كان مسجل دخول:** سيعرض بيانات المستخدم
**إذا لم يكن مسجل دخول:** سيعرض `{"success":false,"message":"غير مسجل دخول"}`

### 2. تسجيل الدخول:
1. افتح: `http://localhost/kids_learning/html/index.html`
2. سجل دخول بحساب موجود
3. سيتم حفظ الجلسة تلقائياً

---

## ملاحظات:
- الجلسات تعمل فقط عند فتح الصفحة عبر الخادم (localhost)
- لا تفتح ملفات HTML مباشرة من الملفات (file://)
- تأكد من تشغيل XAMPP (Apache و MySQL)

