# ุขููุฉ ุงุญุชุณุงุจ ุงููุฌูู โญ

## ูุธุฑุฉ ุนุงูุฉ
ููุฌุฏ ููุนุงู ูู ุงููุฌูู ูู ุงููุธุงู:
1. **ูุฌูู ุงูุฌูุณุฉ** (Session Stars): ุชูููุญ ุนูุฏ ุฅููุงู ูููุฉ
2. **ูุฌูู ุงูุดุงุฑุงุช** (Badge Stars): ุชูููุญ ุนูุฏ ุงูุญุตูู ุนูู ุดุงุฑุฉ

---

## 1. ูุฌูู ุงูุฌูุณุฉ (Session Stars)

### ุงููุนูุงุฑ
ุชูุญุณุจ ุจูุงุกู ุนูู **ูุณุจุฉ ุงูุฅููุงู** (`completed_percentage`) ูููููุฉ:

| ูุณุจุฉ ุงูุฅููุงู | ุนุฏุฏ ุงููุฌูู |
|-------------|------------|
| 100% | โญโญโญโญโญ (5 ูุฌูู) |
| 80-99% | โญโญโญโญ (4 ูุฌูู) |
| 60-79% | โญโญโญ (3 ูุฌูู) |
| 40-59% | โญโญ (2 ูุฌูู) |
| ุฃูู ูู 40% | โญ (1 ูุฌูุฉ) |

### ูุซุงู
- ุฅุฐุง ุฃููู ุงูุทูู 10 ุฃุณุฆูุฉ ูู ุฃุตู 10 ุจุดูู ุตุญูุญ โ 100% โ **5 ูุฌูู**
- ุฅุฐุง ุฃููู ุงูุทูู 8 ุฃุณุฆูุฉ ูู ุฃุตู 10 ุจุดูู ุตุญูุญ โ 80% โ **4 ูุฌูู**
- ุฅุฐุง ุฃููู ุงูุทูู 6 ุฃุณุฆูุฉ ูู ุฃุตู 10 ุจุดูู ุตุญูุญ โ 60% โ **3 ูุฌูู**

### ุงูููุฏ
```php
// ุญุณุงุจ ุงููุฌูู ุจูุงุกู ุนูู ูุณุจุฉ ุงูุฅููุงู
$stars = 1;
if ($completed_percentage >= 100) {
    $stars = 5;
} elseif ($completed_percentage >= 80) {
    $stars = 4;
} elseif ($completed_percentage >= 60) {
    $stars = 3;
} elseif ($completed_percentage >= 40) {
    $stars = 2;
}
```

---

## 2. ูุฌูู ุงูุดุงุฑุงุช (Badge Stars)

### ุงููุนูุงุฑ
ุชูุญุณุจ ุจูุงุกู ุนูู **ุงููููุฉ ุงููุญููุฉ** ููุงุฑูุฉ ุจูุทุงู ุงูุดุงุฑุฉ (`min_value`, `max_value`):

| ุงููุณุจุฉ ุถูู ุงููุทุงู | ุนุฏุฏ ุงููุฌูู |
|------------------|------------|
| 100% (ุญููู ุงูุญุฏ ุงูุฃูุตู) | โญโญโญโญโญ (5 ูุฌูู) |
| 75-99% | โญโญโญโญ (4 ูุฌูู) |
| 50-74% | โญโญโญ (3 ูุฌูู) |
| 25-49% | โญโญ (2 ูุฌูู) |
| ุฃูู ูู 25% (ุญููู ุงูุญุฏ ุงูุฃุฏูู) | โญ (1 ูุฌูุฉ) |

### ุทุฑููุฉ ุงูุญุณุงุจ
```
ุงููุทุงู = max_value - min_value
ุงููุณุจุฉ ุถูู ุงููุทุงู = ((ุงููููุฉ ุงููุญููุฉ - min_value) / ุงููุทุงู) ร 100
```

### ุฃูุซูุฉ

#### ูุซุงู 1: "ุจุทู ุงูุฌูุณุฉ" (Session Master)
- **ุงููุทุงู**: 1-5 ุฌูุณุงุช
- **ุฅุฐุง ุฃููู 1 ุฌูุณุฉ** (ุงูุญุฏ ุงูุฃุฏูู):
  - ุงููุณุจุฉ = ((1 - 1) / 4) ร 100 = 0% โ **1 ูุฌูุฉ**
- **ุฅุฐุง ุฃููู 3 ุฌูุณุงุช** (50% ูู ุงููุทุงู):
  - ุงููุณุจุฉ = ((3 - 1) / 4) ร 100 = 50% โ **3 ูุฌูู**
- **ุฅุฐุง ุฃููู 5 ุฌูุณุงุช** (ุงูุญุฏ ุงูุฃูุตู):
  - ุงููุณุจุฉ = ((5 - 1) / 4) ร 100 = 100% โ **5 ูุฌูู**

#### ูุซุงู 2: "ุฎุจูุฑ ุงููุญุชูู" (Content Expert)
- **ุงููุทุงู**: 10-20 ูููุฉ
- **ุฅุฐุง ุฃููู 10 ููุงู** (ุงูุญุฏ ุงูุฃุฏูู):
  - ุงููุณุจุฉ = ((10 - 10) / 10) ร 100 = 0% โ **1 ูุฌูุฉ**
- **ุฅุฐุง ุฃููู 15 ูููุฉ** (50% ูู ุงููุทุงู):
  - ุงููุณุจุฉ = ((15 - 10) / 10) ร 100 = 50% โ **3 ูุฌูู**
- **ุฅุฐุง ุฃููู 20 ูููุฉ** (ุงูุญุฏ ุงูุฃูุตู):
  - ุงููุณุจุฉ = ((20 - 10) / 10) ร 100 = 100% โ **5 ูุฌูู**

#### ูุซุงู 3: "ุงููุชูุฌุฉ ุงููุซุงููุฉ" (Perfect Score)
- **ุงููุทุงู**: 100-100 (ูุทุงู = 0)
- **ุฅุฐุง ุญูู 100%** โ **5 ูุฌูู ูุจุงุดุฑุฉ** (ูุฃู ุงููุทุงู ุตูุฑ)

### ุงูููุฏ
```php
// ุญุณุงุจ ุงููุฌูู ุจูุงุกู ุนูู ูุนุงููุฑ ุงูุดุงุฑุฉ
$range = $badge['max_value'] - $badge['min_value'];
if ($range > 0) {
    $percentage_in_range = (($value - $badge['min_value']) / $range) * 100;
    
    if ($percentage_in_range >= 100) {
        $stars_earned = 5;
    } elseif ($percentage_in_range >= 75) {
        $stars_earned = 4;
    } elseif ($percentage_in_range >= 50) {
        $stars_earned = 3;
    } elseif ($percentage_in_range >= 25) {
        $stars_earned = 2;
    } else {
        $stars_earned = 1;
    }
} else {
    // ุฅุฐุง ูุงู ุงููุทุงู ุตูุฑุ ูุนุทู 5 ูุฌูู
    $stars_earned = 5;
}
```

---

## 3. ูุฌููุน ุงููุฌูู (Total Stars)

### ุงููุนูุงุฑ
ูุชู ุฌูุน ุฌููุน ุงููุฌูู ูู:
- **ูุฌูู ุงูุฌูุณุงุช**: ูู ุฌูุณุฉ ุชุถูู ูุฌูููุง ุฅูู `total_stars`
- **ูุฌูู ุงูุดุงุฑุงุช**: ูุง ุชูุถุงู ุฅูู `total_stars` (ุชูุญูุธ ููุท ูู `child_badges`)

### ุชุญุฏูุซ ุงูููุจ
ูุชู ุชุญุฏูุซ ููุจ ุงูุทูู ุจูุงุกู ุนูู `total_stars`:

| ูุฌููุน ุงููุฌูู | ุงูููุจ |
|-------------|-------|
| ุฃูู ูู 10 | ูุจุชุฏุฆ ๐ |
| 10-30 | ูุณุชูุดู ๐ |
| ุฃูุซุฑ ูู 30 | ูุฌู ุงูุชุนูู ๐ |

---

## ููุฎุต

1. **ูุฌูู ุงูุฌูุณุฉ**: ุชูุญุณุจ ุจูุงุกู ุนูู ูุณุจุฉ ุงูุฅููุงู (ุนุฏุฏ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ / ุฅุฌูุงูู ุงูุฃุณุฆูุฉ)
2. **ูุฌูู ุงูุดุงุฑุงุช**: ุชูุญุณุจ ุจูุงุกู ุนูู ุงููููุฉ ุงููุญููุฉ ููุงุฑูุฉ ุจูุทุงู ุงูุดุงุฑุฉ
3. **ูุฌููุน ุงููุฌูู**: ูุฌููุน ูุฌูู ุฌููุน ุงูุฌูุณุงุช ุงูููุชููุฉ

